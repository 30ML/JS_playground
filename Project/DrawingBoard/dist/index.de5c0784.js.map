{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["console.log('그림판')\n\nclass DrawingBoard {\n  MODE = 'NONE' // NONE BRUSH ERASER\n  IsMouseDown = false\n  IsNavigatorVisible = false\n  EraserColor = '#FFFFFF'\n  BackgroundColor = '#FFFFFF'\n  UndoArray = []\n\n  context\n  containerEl\n  canvasEl\n  toolbarEl\n  brushEl\n  colorPickerEl\n  brushPanelEl\n  brushSliderEl\n  brushSizePreviewEl\n  eraserEl\n  navigatorEl\n  navigatorImageContainerEl\n  navigatorImageEl\n  undoEl\n  clearEl\n  downloadLinkEl\n\n  constructor() {\n    this.assignElement()\n    this.initContext()\n    this.initCanvasBackgroundColor()\n    this.addEvent()\n  }\n\n  assignElement() {\n    this.containerEl = document.getElementById('container')\n    this.canvasEl = this.containerEl.querySelector('#canvas')\n    this.toolbarEl = this.containerEl.querySelector('#toolbar')\n    this.brushEl = this.toolbarEl.querySelector('#brush')\n    this.colorPickerEl = this.toolbarEl.querySelector('#colorPicker')\n    this.brushPanelEl = this.containerEl.querySelector('#brushPanel')\n    this.brushSliderEl = this.brushPanelEl.querySelector('#brushSize')\n    this.brushSizePreviewEl =\n      this.brushPanelEl.querySelector('#brushSizePreview')\n    this.eraserEl = this.toolbarEl.querySelector('#eraser')\n    this.navigatorEl = this.toolbarEl.querySelector('#navigator')\n    this.navigatorImageContainerEl = this.containerEl.querySelector('#imgNav')\n    this.navigatorImageEl =\n      this.navigatorImageContainerEl.querySelector('#canvasImg')\n    this.undoEl = this.toolbarEl.querySelector('#undo')\n    this.clearEl = this.toolbarEl.querySelector('#clear')\n    this.downloadLinkEl = this.toolbarEl.querySelector('#download')\n  }\n\n  initContext() {\n    this.context = this.canvasEl.getContext('2d')\n  }\n\n  initCanvasBackgroundColor() {\n    this.context.fillStyle = this.BackgroundColor\n    this.context.fillRect(0, 0, this.canvasEl.width, this.canvasEl.height)\n  }\n\n  addEvent() {\n    this.brushEl.addEventListener('click', this.onClickBrush.bind(this))\n    this.canvasEl.addEventListener('mousedown', this.onMouseDown.bind(this))\n    this.canvasEl.addEventListener('mousemove', this.onMouseMove.bind(this))\n    this.canvasEl.addEventListener('mouseup', this.onMouseUp.bind(this))\n    this.canvasEl.addEventListener('mouseout', this.onMouseOut.bind(this))\n    this.brushSliderEl.addEventListener(\n      'input',\n      this.onChangeBrushSize.bind(this),\n    )\n    this.colorPickerEl.addEventListener('input', this.onChangeColor.bind(this))\n    this.eraserEl.addEventListener('click', this.onClickEraser.bind(this))\n    this.navigatorEl.addEventListener('click', this.onClickNavigator.bind(this))\n    this.undoEl.addEventListener('click', this.onClickUndo.bind(this))\n    this.clearEl.addEventListener('click', this.onClickClear.bind(this))\n    this.downloadLinkEl.addEventListener(\n      'click',\n      this.onClickDownload.bind(this),\n    )\n  }\n\n  onClickBrush(event) {\n    const isActive = event.currentTarget.classList.contains('active')\n    this.MODE = isActive ? 'NONE' : 'BRUSH'\n    this.canvasEl.style.cursor = isActive ? 'default' : 'crosshair'\n    event.currentTarget.classList.toggle('active')\n    this.brushPanelEl.classList.toggle('hide')\n    this.eraserEl.classList.remove('active')\n  }\n\n  onChangeBrushSize(event) {\n    this.brushSizePreviewEl.style.width = `${event.target.value}px`\n    this.brushSizePreviewEl.style.height = `${event.target.value}px`\n  }\n\n  onClickEraser(event) {\n    const isActive = event.currentTarget.classList.contains('active')\n    this.MODE = isActive ? 'NONE' : 'ERASER'\n    this.canvasEl.style.cursor = isActive ? 'default' : 'crosshair'\n    event.currentTarget.classList.toggle('active')\n    this.brushPanelEl.classList.add('hide')\n    this.brushEl.classList.remove('active')\n  }\n\n  onClickNavigator(event) {\n    this.IsNavigatorVisible = !event.currentTarget.contains['active']\n    event.currentTarget.classList.contains('active')\n    event.currentTarget.classList.toggle('active')\n    this.navigatorImageContainerEl.classList.toggle('hide')\n    this.updateNavigator()\n  }\n\n  updateNavigator() {\n    if (!this.IsNavigatorVisible) return\n    this.navigatorImageEl.src = this.canvasEl.toDataURL()\n  }\n\n  onClickUndo() {\n    if (this.UndoArray.length === 0) {\n      alert('더 이상 실행 취소 불가합니다.')\n      return\n    }\n    let previousDataUrl = this.UndoArray.pop()\n    let previousImage = new Image()\n    previousImage.onload = () => {\n      this.context.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height)\n      this.context.drawImage(\n        previousImage,\n        0,\n        0,\n        this.canvasEl.width,\n        this.canvasEl.height,\n        0,\n        0,\n        this.canvasEl.width,\n        this.canvasEl.height,\n      )\n    }\n    previousImage.src = previousDataUrl\n  }\n\n  saveState() {\n    if (this.UndoArray.length > 4) this.UndoArray.shift()\n    this.UndoArray.push(this.canvasEl.toDataURL())\n  }\n\n  onClickClear() {\n    this.context.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height)\n    this.UndoArray = []\n    this.updateNavigator()\n    this.initCanvasBackgroundColor()\n  }\n\n  onClickDownload() {\n    this.downloadLinkEl.href = this.canvasEl.toDataURL('image/jpeg', 1)\n    this.downloadLinkEl.download = 'example.jpeg'\n  }\n\n  onChangeColor(event) {\n    this.brushSizePreviewEl.style.background = event.target.value\n  }\n\n  onMouseDown(event) {\n    if (this.MODE === 'NONE') return\n    this.IsMouseDown = true\n    const currentPosition = this.getMousePosition(event)\n    this.context.beginPath()\n    this.context.moveTo(currentPosition.x, currentPosition.y)\n    this.context.lineCap = 'round'\n    if (this.MODE === 'BRUSH') {\n      this.context.strokeStyle = this.colorPickerEl.value\n      this.context.lineWidth = this.brushSliderEl.value\n    } else if (this.MODE === 'ERASER') {\n      this.context.strokeStyle = this.EraserColor\n      this.context.lineWidth = 50\n    }\n    this.saveState()\n  }\n\n  onMouseMove(event) {\n    if (!this.IsMouseDown) return\n    const currentPosition = this.getMousePosition(event)\n    this.context.lineTo(currentPosition.x, currentPosition.y)\n    this.context.stroke()\n  }\n\n  onMouseUp() {\n    if (this.MODE === 'NONE') return\n    this.IsMouseDown = false\n    this.updateNavigator()\n  }\n\n  onMouseOut() {\n    this.onMouseUp()\n  }\n\n  getMousePosition(event) {\n    const boundaries = this.canvasEl.getBoundingClientRect()\n    return {\n      x: event.clientX - boundaries.left,\n      y: event.clientY - boundaries.top,\n    }\n  }\n}\n\nnew DrawingBoard()\n"],"names":[],"version":3,"file":"index.de5c0784.js.map","sourceRoot":"/__parcel_source_root/"}